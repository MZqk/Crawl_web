
<!DOCTYPE html>
<html lang="zh-cn">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>史上最全最强SpringMVC详细示例实战教程 - Sunnier - 博客园</title>
<link type="text/css" rel="stylesheet" href="/bundles/blog-common.css?v=ChDk9h03-S75WEqNhGvXkWireJ5cCWdK1xRM9NIXfnM1"/>
<link id="MainCss" type="text/css" rel="stylesheet" href="/skins/SimpleBlue/bundle-SimpleBlue.css?v=jJERBFSojhmgst84aaRDal9S3q1WoO-WcNudmMzGJS81"/>
<link id="mobile-style" media="only screen and (max-width: 768px)" type="text/css" rel="stylesheet" href="/skins/SimpleBlue/bundle-SimpleBlue-mobile.css?v=z0BacpCfWeLlXDCM0C158kTP_DMqMbGBapID4f-QztI1"/>
<link title="RSS" type="application/rss+xml" rel="alternate" href="http://www.cnblogs.com/sunniest/rss"/>
<link title="RSD" type="application/rsd+xml" rel="EditURI" href="http://www.cnblogs.com/sunniest/rsd.xml"/>
<link type="application/wlwmanifest+xml" rel="wlwmanifest" href="http://www.cnblogs.com/sunniest/wlwmanifest.xml"/>
<script src="//common.cnblogs.com/script/jquery.js" type="text/javascript"></script>  
<script type="text/javascript">var currentBlogApp = 'sunniest', cb_enable_mathjax=false;var isLogined=false;</script>
<script src="/bundles/blog-common.js?v=wUUQbLTt-LocHM-6RVSAUwAYdrfA1Lt3ool1ZdiICfI1" type="text/javascript"></script>
</head>
<body>
<a name="top"></a>

<div id="home">
<div id="header">
	<div id="blogTitle">
		
<!--done-->
<div class="title"><a id="Header1_HeaderTitle" class="headermaintitle" href="http://www.cnblogs.com/sunniest/">Sunnier</a></div>
<div class="subtitle"></div>



		
	</div><!--end: blogTitle 博客的标题和副标题 -->
	<div id="navigator">
		
<ul id="navList">
<li id="nav_sitehome"><a id="blog_nav_sitehome" class="menu" href="http://www.cnblogs.com/">博客园</a></li>
<li id="nav_myhome"><a id="blog_nav_myhome" class="menu" href="http://www.cnblogs.com/sunniest/">首页</a></li>
<li id="nav_newpost"><a id="blog_nav_newpost" class="menu" rel="nofollow" href="https://i.cnblogs.com/EditPosts.aspx?opt=1">新随笔</a></li>
<li id="nav_contact"><a id="blog_nav_contact" class="menu" rel="nofollow" href="https://msg.cnblogs.com/send/Sunnier">联系</a></li>
<li id="nav_rss"><a id="blog_nav_rss" class="menu" href="http://www.cnblogs.com/sunniest/rss">订阅</a>
<!--<a id="blog_nav_rss_image" class="aHeaderXML" href="http://www.cnblogs.com/sunniest/rss"><img src="//www.cnblogs.com/images/xml.gif" alt="订阅" /></a>--></li>
<li id="nav_admin"><a id="blog_nav_admin" class="menu" rel="nofollow" href="https://i.cnblogs.com/">管理</a></li>
</ul>

		<div class="blogStats">
			
			<div id="blog_stats">
<!--done-->
随笔-50&nbsp;
文章-0&nbsp;
评论-226&nbsp;
</div>
			
		</div><!--end: blogStats -->
	</div><!--end: navigator 博客导航栏 -->
</div><!--end: header 头部 -->
<div id="main">
	<div id="mainContent">
	<div class="forFlow">
		
<div id="post_detail">
<!--done-->
<div id="topics">
	<div class = "post">
		<h1 class = "postTitle">
			<a id="cb_post_title_url" class="postTitle2" href="http://www.cnblogs.com/sunniest/p/4555801.html">史上最全最强SpringMVC详细示例实战教程</a>
		</h1>
		<div class="clear"></div>
		<div class="postBody">
			<div id="cnblogs_post_body"><h1><span style="color: #ff0000;"><strong><span style="background-color: #ffff99; font-family: 'Microsoft YaHei';">SpringMVC学习笔记----</span></strong></span></h1>
<h2><span style="background-color: #ffff99;"><strong><span style="font-family: 'Microsoft YaHei'; color: #000000;">一、SpringMVC基础入门，创建一个HelloWorld程序</span></strong></span></h2>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">1.首先，导入SpringMVC需要的jar包。</span></p>
<div><img src="file:///C:\Users\Jay Jay\AppData\Roaming\Tencent\Users\449387122\QQ\WinTemp\RichOle\80HS[GZ02HK7R]0OPKUVZ}N.png" alt="" /><img src="http://images0.cnblogs.com/blog2015/694841/201506/032131066955378.png" alt="" /></div>
<div><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">2.添加Web.xml配置文件中关于SpringMVC的配置</span></div>
<div>
<div class="cnblogs_code">
<pre>  <span style="color: #008000;">&lt;!--</span><span style="color: #008000;">configure the setting of springmvcDispatcherServlet and configure the mapping</span><span style="color: #008000;">--&gt;</span>
  <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">servlet</span><span style="color: #0000ff;">&gt;</span>
      <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">servlet-name</span><span style="color: #0000ff;">&gt;</span>springmvc<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">servlet-name</span><span style="color: #0000ff;">&gt;</span>
      <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">servlet-class</span><span style="color: #0000ff;">&gt;</span>org.springframework.web.servlet.DispatcherServlet<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">servlet-class</span><span style="color: #0000ff;">&gt;</span>
      <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">init-param</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">param-name</span><span style="color: #0000ff;">&gt;</span>contextConfigLocation<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">param-name</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">param-value</span><span style="color: #0000ff;">&gt;</span>classpath:springmvc-servlet.xml<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">param-value</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">init-param</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #008000;">&lt;!--</span><span style="color: #008000;"> &lt;load-on-startup&gt;1&lt;/load-on-startup&gt; </span><span style="color: #008000;">--&gt;</span>
  <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">servlet</span><span style="color: #0000ff;">&gt;</span>

  <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">servlet-mapping</span><span style="color: #0000ff;">&gt;</span>
      <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">servlet-name</span><span style="color: #0000ff;">&gt;</span>springmvc<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">servlet-name</span><span style="color: #0000ff;">&gt;</span>
      <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">url-pattern</span><span style="color: #0000ff;">&gt;</span>/<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">url-pattern</span><span style="color: #0000ff;">&gt;</span>
  <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">servlet-mapping</span><span style="color: #0000ff;">&gt;</span></pre>
</div>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">3.在src下添加springmvc-servlet.xml配置文件</span></p>
<div class="cnblogs_code">
<pre><span style="color: #0000ff;">&lt;?</span><span style="color: #ff00ff;">xml version="1.0" encoding="UTF-8"</span><span style="color: #0000ff;">?&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">beans </span><span style="color: #ff0000;">xmlns</span><span style="color: #0000ff;">="http://www.springframework.org/schema/beans"</span><span style="color: #ff0000;">
    xmlns:xsi</span><span style="color: #0000ff;">="http://www.w3.org/2001/XMLSchema-instance"</span><span style="color: #ff0000;">
    xmlns:context</span><span style="color: #0000ff;">="http://www.springframework.org/schema/context"</span><span style="color: #ff0000;">
    xmlns:mvc</span><span style="color: #0000ff;">="http://www.springframework.org/schema/mvc"</span><span style="color: #ff0000;">
    xsi:schemaLocation</span><span style="color: #0000ff;">="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.1.xsd
        http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.1.xsd"</span><span style="color: #0000ff;">&gt;</span>                    

    <span style="color: #008000;">&lt;!--</span><span style="color: #008000;"> scan the package and the sub package </span><span style="color: #008000;">--&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">context:component-scan </span><span style="color: #ff0000;">base-package</span><span style="color: #0000ff;">="test.SpringMVC"</span><span style="color: #0000ff;">/&gt;</span>

    <span style="color: #008000;">&lt;!--</span><span style="color: #008000;"> don't handle the static resource </span><span style="color: #008000;">--&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">mvc:default-servlet-handler </span><span style="color: #0000ff;">/&gt;</span>

    <span style="color: #008000;">&lt;!--</span><span style="color: #008000;"> if you use annotation you must configure following setting </span><span style="color: #008000;">--&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">mvc:annotation-driven </span><span style="color: #0000ff;">/&gt;</span>
    
    <span style="color: #008000;">&lt;!--</span><span style="color: #008000;"> configure the InternalResourceViewResolver </span><span style="color: #008000;">--&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">bean </span><span style="color: #ff0000;">class</span><span style="color: #0000ff;">="org.springframework.web.servlet.view.InternalResourceViewResolver"</span><span style="color: #ff0000;"> 
            id</span><span style="color: #0000ff;">="internalResourceViewResolver"</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #008000;">&lt;!--</span><span style="color: #008000;"> 前缀 </span><span style="color: #008000;">--&gt;</span>
        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">property </span><span style="color: #ff0000;">name</span><span style="color: #0000ff;">="prefix"</span><span style="color: #ff0000;"> value</span><span style="color: #0000ff;">="/WEB-INF/jsp/"</span> <span style="color: #0000ff;">/&gt;</span>
        <span style="color: #008000;">&lt;!--</span><span style="color: #008000;"> 后缀 </span><span style="color: #008000;">--&gt;</span>
        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">property </span><span style="color: #ff0000;">name</span><span style="color: #0000ff;">="suffix"</span><span style="color: #ff0000;"> value</span><span style="color: #0000ff;">=".jsp"</span> <span style="color: #0000ff;">/&gt;</span>
    <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">bean</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">beans</span><span style="color: #0000ff;">&gt;</span></pre>
</div>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">4.在WEB-INF文件夹下创建名为jsp的文件夹，用来存放jsp视图。创建一个hello.jsp，在body中添加&ldquo;Hello World&rdquo;。</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">5.建立包及Controller，如下所示</span></p>
<p><img src="http://images0.cnblogs.com/blog2015/694841/201506/032227247897004.png" alt="" /></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">6.编写Controller代码</span></p>
<div class="cnblogs_code">
<pre><span style="color: #000000;">@Controller
@RequestMapping(</span>"/mvc"<span style="color: #000000;">)
</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> mvcController {

    @RequestMapping(</span>"/hello"<span style="color: #000000;">)
    </span><span style="color: #0000ff;">public</span><span style="color: #000000;"> String hello(){        
        </span><span style="color: #0000ff;">return</span> "hello"<span style="color: #000000;">;
    }
}</span></pre>
</div>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">7.启动服务器，键入&nbsp;http://localhost:8080/项目名/mvc/hello</span></p>
<h2><span style="font-family: 'Microsoft YaHei'; color: #000000; background-color: #ffff99;">二、配置解析</span></h2>
</div>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">1.<span style="color: #ff0000;">Dispatcherservlet</span></span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">　　DispatcherServlet是前置控制器，配置在web.xml文件中的。拦截匹配的请求，Servlet拦截匹配规则要自已定义，把拦截下来的请求，依据相应的规则分发到目标Controller来处理，是配置spring MVC的第一步。</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">2.<span style="color: #ff0000;">InternalResourceViewResolver</span></span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">　　视图名称解析器</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">3.以上出现的注解</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;"><span style="color: #ff0000;">@Controller</span>&nbsp;负责注册一个bean 到spring 上下文中</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;"><span style="color: #ff0000;">@RequestMapping</span> 注解为控制器指定可以处理哪些 URL 请求</span></p>
<h2><span style="font-family: 'Microsoft YaHei'; background-color: #ffff99;">三、SpringMVC常用注解</span></h2>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px; color: #ff0000;">@Controller</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">　　负责注册一个bean 到spring 上下文中</span><br /><span style="font-family: 'Microsoft YaHei'; font-size: 15px; color: #ff0000;">@RequestMapping</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">　　注解为控制器指定可以处理哪些 URL 请求</span><br /><span style="font-family: 'Microsoft YaHei'; font-size: 15px; color: #ff0000;">@RequestBody</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">　　该注解用于读取Request请求的body部分数据，使用系统默认配置的HttpMessageConverter进行解析，然后把相应的数据绑定到要返回的对象上&nbsp;,再把HttpMessageConverter返回的对象数据绑定到 controller中方法的参数上</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px; color: #ff0000;">@ResponseBody</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">　　&nbsp;该注解用于将Controller的方法返回的对象，通过适当的HttpMessageConverter转换为指定格式后，写入到Response对象的body数据区</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;"><span style="color: #ff0000;">@ModelAttribute</span>&nbsp;　　　</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">　　在方法定义上使用 @ModelAttribute 注解：Spring MVC 在调用目标处理方法前，会先逐个调用在方法级上标注了@ModelAttribute 的方法</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">　　在方法的入参前使用 @ModelAttribute 注解：可以从隐含对象中获取隐含的模型数据中获取对象，再将请求参数 &ndash;绑定到对象中，再传入入参将方法入参对象添加到模型中&nbsp;</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px; color: #ff0000;">@RequestParam　</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">　　在处理方法入参处使用 @RequestParam 可以把请求参 数传递给请求方法</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px; color: #ff0000;">@PathVariable</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">　　绑定 URL 占位符到入参</span><br /><span style="font-family: 'Microsoft YaHei'; font-size: 15px; color: #ff0000;">@ExceptionHandler</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">　　注解到方法上，出现异常时会执行该方法</span><br /><span style="font-family: 'Microsoft YaHei'; font-size: 15px; color: #ff0000;">@ControllerAdvice</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">　　使一个Contoller成为全局的异常处理类，类中用@ExceptionHandler方法注解的方法可以处理所有Controller发生的异常</span></p>
<h2><span style="font-family: 'Microsoft YaHei'; background-color: #ffff99;">四、自动匹配参数</span></h2>
<div class="cnblogs_code">
<pre>    <span style="color: #008000;">//</span><span style="color: #008000;">match automatically</span>
    @RequestMapping("/person"<span style="color: #000000;">)
    </span><span style="color: #0000ff;">public</span> String toPerson(String name,<span style="color: #0000ff;">double</span><span style="color: #000000;"> age){
        System.out.println(name</span>+" "+<span style="color: #000000;">age);
        </span><span style="color: #0000ff;">return</span> "hello"<span style="color: #000000;">;
    }</span></pre>
</div>
<h2><span style="font-family: 'Microsoft YaHei'; background-color: #ffff99;">五、自动装箱</span></h2>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">1.编写一个Person实体类</span></p>
<div class="cnblogs_code">
<pre><span style="color: #0000ff;">package</span><span style="color: #000000;"> test.SpringMVC.model;

</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> Person {
    </span><span style="color: #0000ff;">public</span><span style="color: #000000;"> String getName() {
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> name;
    }
    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> setName(String name) {
        </span><span style="color: #0000ff;">this</span>.name =<span style="color: #000000;"> name;
    }
    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">int</span><span style="color: #000000;"> getAge() {
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> age;
    }
    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span> setAge(<span style="color: #0000ff;">int</span><span style="color: #000000;"> age) {
        </span><span style="color: #0000ff;">this</span>.age =<span style="color: #000000;"> age;
    }
    </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> String name;
    </span><span style="color: #0000ff;">private</span> <span style="color: #0000ff;">int</span><span style="color: #000000;"> age;
    
}</span></pre>
</div>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">2.在Controller里编写方法</span></p>
<div class="cnblogs_code">
<pre>    <span style="color: #008000;">//</span><span style="color: #008000;">boxing automatically</span>
    @RequestMapping("/person1"<span style="color: #000000;">)
    </span><span style="color: #0000ff;">public</span><span style="color: #000000;"> String toPerson(Person p){
        System.out.println(p.getName()</span>+" "+<span style="color: #000000;">p.getAge());
        </span><span style="color: #0000ff;">return</span> "hello"<span style="color: #000000;">;
    }</span></pre>
</div>
<h2><span style="font-family: 'Microsoft YaHei'; background-color: #ffff99;">六、使用InitBinder来处理Date类型的参数</span></h2>
<div class="cnblogs_code">
<pre>    <span style="color: #008000;">//</span><span style="color: #008000;">the parameter was converted in initBinder</span>
    @RequestMapping("/date"<span style="color: #000000;">)
    </span><span style="color: #0000ff;">public</span><span style="color: #000000;"> String date(Date date){
        System.out.println(date);
        </span><span style="color: #0000ff;">return</span> "hello"<span style="color: #000000;">;
    }
    
    </span><span style="color: #008000;">//</span><span style="color: #008000;">At the time of initialization,convert the type "String" to type "date"</span>
<span style="color: #000000;">    @InitBinder
    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> initBinder(ServletRequestDataBinder binder){
        binder.registerCustomEditor(Date.</span><span style="color: #0000ff;">class</span>, <span style="color: #0000ff;">new</span> CustomDateEditor(<span style="color: #0000ff;">new</span> SimpleDateFormat("yyyy-MM-dd"<span style="color: #000000;">),
                </span><span style="color: #0000ff;">true</span><span style="color: #000000;">));
    }</span></pre>
</div>
<h2><span style="font-family: 'Microsoft YaHei'; background-color: #ffff99;">七、向前台传递参数</span></h2>
<div class="cnblogs_code">
<pre>    <span style="color: #008000;">//</span><span style="color: #008000;">pass the parameters to front-end</span>
    @RequestMapping("/show"<span style="color: #000000;">)
    </span><span style="color: #0000ff;">public</span> String showPerson(Map&lt;String,Object&gt;<span style="color: #000000;"> map){
        Person p </span>=<span style="color: #0000ff;">new</span><span style="color: #000000;"> Person();
        map.put(</span>"p"<span style="color: #000000;">, p);
        p.setAge(</span>20<span style="color: #000000;">);
        p.setName(</span>"jayjay"<span style="color: #000000;">);
        </span><span style="color: #0000ff;">return</span> "show"<span style="color: #000000;">;
    }</span></pre>
</div>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">前台可在Request域中取到"p"</span></p>
<h2><span style="background-color: #ffff99; font-family: 'Microsoft YaHei';">八、使用Ajax调用</span></h2>
<div class="cnblogs_code">
<pre>    <span style="color: #008000;">//</span><span style="color: #008000;">pass the parameters to front-end using ajax</span>
    @RequestMapping("/getPerson"<span style="color: #000000;">)
    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> getPerson(String name,PrintWriter pw){
        pw.write(</span>"hello,"+<span style="color: #000000;">name);        
    }
    @RequestMapping(</span>"/name"<span style="color: #000000;">)
    </span><span style="color: #0000ff;">public</span><span style="color: #000000;"> String sayHello(){
        </span><span style="color: #0000ff;">return</span> "name"<span style="color: #000000;">;
    }</span></pre>
</div>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">前台用下面的Jquery代码调用</span></p>
<div class="cnblogs_code">
<pre>          $(<span style="color: #0000ff;">function</span><span style="color: #000000;">(){
              $(</span>"#btn").click(<span style="color: #0000ff;">function</span><span style="color: #000000;">(){
                  $.post(</span>"mvc/getPerson",{name:$("#name").val()},<span style="color: #0000ff;">function</span><span style="color: #000000;">(data){
                      alert(data);
                  });
              });
          });</span></pre>
</div>
<h2><span style="font-family: 'Microsoft YaHei'; background-color: #ffff99;">九、在Controller中使用redirect方式处理请求</span></h2>
<div class="cnblogs_code">
<pre>    <span style="color: #008000;">//</span><span style="color: #008000;">redirect </span>
    @RequestMapping("/redirect"<span style="color: #000000;">)
    </span><span style="color: #0000ff;">public</span><span style="color: #000000;"> String redirect(){
        </span><span style="color: #0000ff;">return</span> "redirect:hello"<span style="color: #000000;">;
    }</span></pre>
</div>
<h2><span style="background-color: #ffff99; font-family: 'Microsoft YaHei';">十、文件上传</span></h2>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">1.需要导入两个jar包</span></p>
<p><img src="http://images0.cnblogs.com/blog2015/694841/201506/052005184887879.png" alt="" /></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">2.在SpringMVC配置文件中加入</span></p>
<div class="cnblogs_code">
<pre>    <span style="color: #008000;">&lt;!--</span><span style="color: #008000;"> upload settings </span><span style="color: #008000;">--&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">bean </span><span style="color: #ff0000;">id</span><span style="color: #0000ff;">="multipartResolver"</span><span style="color: #ff0000;">  class</span><span style="color: #0000ff;">="org.springframework.web.multipart.commons.CommonsMultipartResolver"</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">property </span><span style="color: #ff0000;">name</span><span style="color: #0000ff;">="maxUploadSize"</span><span style="color: #ff0000;"> value</span><span style="color: #0000ff;">="102400000"</span><span style="color: #0000ff;">&gt;&lt;/</span><span style="color: #800000;">property</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">bean</span><span style="color: #0000ff;">&gt;</span></pre>
</div>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">3.方法代码</span></p>
<div class="cnblogs_code">
<pre>    @RequestMapping(value="/upload",method=<span style="color: #000000;">RequestMethod.POST)
    </span><span style="color: #0000ff;">public</span> String upload(HttpServletRequest req) <span style="color: #0000ff;">throws</span><span style="color: #000000;"> Exception{
        MultipartHttpServletRequest mreq </span>=<span style="color: #000000;"> (MultipartHttpServletRequest)req;
        MultipartFile file </span>= mreq.getFile("file"<span style="color: #000000;">);
        String fileName </span>=<span style="color: #000000;"> file.getOriginalFilename();
        SimpleDateFormat sdf </span>= <span style="color: #0000ff;">new</span> SimpleDateFormat("yyyyMMddHHmmss"<span style="color: #000000;">);        
        FileOutputStream fos </span>= <span style="color: #0000ff;">new</span> FileOutputStream(req.getSession().getServletContext().getRealPath("/")+
                "upload/"+sdf.format(<span style="color: #0000ff;">new</span> Date())+fileName.substring(fileName.lastIndexOf('.'<span style="color: #000000;">)));
        fos.write(file.getBytes());
        fos.flush();
        fos.close();
        
        </span><span style="color: #0000ff;">return</span> "hello"<span style="color: #000000;">;
    }</span></pre>
</div>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">4.前台form表单</span></p>
<div class="cnblogs_code">
<pre>      <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">form </span><span style="color: #ff0000;">action</span><span style="color: #0000ff;">="mvc/upload"</span><span style="color: #ff0000;"> method</span><span style="color: #0000ff;">="post"</span><span style="color: #ff0000;"> enctype</span><span style="color: #0000ff;">="multipart/form-data"</span><span style="color: #0000ff;">&gt;</span>
          <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">input </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="file"</span><span style="color: #ff0000;"> name</span><span style="color: #0000ff;">="file"</span><span style="color: #0000ff;">&gt;&lt;</span><span style="color: #800000;">br</span><span style="color: #0000ff;">&gt;</span>
          <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">input </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="submit"</span><span style="color: #ff0000;"> value</span><span style="color: #0000ff;">="submit"</span><span style="color: #0000ff;">&gt;</span>
      <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">form</span><span style="color: #0000ff;">&gt;</span></pre>
</div>
<h2><span style="font-family: 'Microsoft YaHei'; background-color: #ffff99;">十一、使用@RequestParam注解指定参数的name</span></h2>
<div class="cnblogs_code">
<pre><span style="color: #000000;">@Controller
@RequestMapping(</span>"/test"<span style="color: #000000;">)
</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> mvcController1 {
    @RequestMapping(value</span>="/param"<span style="color: #000000;">)
    </span><span style="color: #0000ff;">public</span> String testRequestParam(@RequestParam(value="id"<span style="color: #000000;">) Integer id,
            @RequestParam(value</span>="name"<span style="color: #000000;">)String name){
        System.out.println(id</span>+" "+<span style="color: #000000;">name);
        </span><span style="color: #0000ff;">return</span> "/hello"<span style="color: #000000;">;
    }    
}</span></pre>
</div>
<h2><span style="font-family: 'Microsoft YaHei'; background-color: #ffff99;">十二、RESTFul风格的SringMVC</span></h2>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">1.RestController</span></p>
<div class="cnblogs_code">
<pre><span style="color: #000000;">@Controller
@RequestMapping(</span>"/rest"<span style="color: #000000;">)
</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> RestController {
    @RequestMapping(value</span>="/user/{id}",method=<span style="color: #000000;">RequestMethod.GET)
    </span><span style="color: #0000ff;">public</span> String get(@PathVariable("id"<span style="color: #000000;">) Integer id){
        System.out.println(</span>"get"+<span style="color: #000000;">id);
        </span><span style="color: #0000ff;">return</span> "/hello"<span style="color: #000000;">;
    }
    
    @RequestMapping(value</span>="/user/{id}",method=<span style="color: #000000;">RequestMethod.POST)
    </span><span style="color: #0000ff;">public</span> String post(@PathVariable("id"<span style="color: #000000;">) Integer id){
        System.out.println(</span>"post"+<span style="color: #000000;">id);
        </span><span style="color: #0000ff;">return</span> "/hello"<span style="color: #000000;">;
    }
    
    @RequestMapping(value</span>="/user/{id}",method=<span style="color: #000000;">RequestMethod.PUT)
    </span><span style="color: #0000ff;">public</span> String put(@PathVariable("id"<span style="color: #000000;">) Integer id){
        System.out.println(</span>"put"+<span style="color: #000000;">id);
        </span><span style="color: #0000ff;">return</span> "/hello"<span style="color: #000000;">;
    }
    
    @RequestMapping(value</span>="/user/{id}",method=<span style="color: #000000;">RequestMethod.DELETE)
    </span><span style="color: #0000ff;">public</span> String delete(@PathVariable("id"<span style="color: #000000;">) Integer id){
        System.out.println(</span>"delete"+<span style="color: #000000;">id);
        </span><span style="color: #0000ff;">return</span> "/hello"<span style="color: #000000;">;
    }
    
}</span></pre>
</div>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">2.form表单发送put和delete请求</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">在web.xml中配置</span></p>
<div class="cnblogs_code">
<pre>  <span style="color: #008000;">&lt;!--</span><span style="color: #008000;"> configure the HiddenHttpMethodFilter,convert the post method to put or delete </span><span style="color: #008000;">--&gt;</span>
  <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">filter</span><span style="color: #0000ff;">&gt;</span>
      <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">filter-name</span><span style="color: #0000ff;">&gt;</span>HiddenHttpMethodFilter<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">filter-name</span><span style="color: #0000ff;">&gt;</span>
      <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">filter-class</span><span style="color: #0000ff;">&gt;</span>org.springframework.web.filter.HiddenHttpMethodFilter<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">filter-class</span><span style="color: #0000ff;">&gt;</span>
  <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">filter</span><span style="color: #0000ff;">&gt;</span>
  <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">filter-mapping</span><span style="color: #0000ff;">&gt;</span>
      <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">filter-name</span><span style="color: #0000ff;">&gt;</span>HiddenHttpMethodFilter<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">filter-name</span><span style="color: #0000ff;">&gt;</span>
      <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">url-pattern</span><span style="color: #0000ff;">&gt;</span>/*<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">url-pattern</span><span style="color: #0000ff;">&gt;</span>
  <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">filter-mapping</span><span style="color: #0000ff;">&gt;</span></pre>
</div>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">在前台可以用以下代码产生请求</span></p>
<div class="cnblogs_code">
<pre>    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">form </span><span style="color: #ff0000;">action</span><span style="color: #0000ff;">="rest/user/1"</span><span style="color: #ff0000;"> method</span><span style="color: #0000ff;">="post"</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">input </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="hidden"</span><span style="color: #ff0000;"> name</span><span style="color: #0000ff;">="_method"</span><span style="color: #ff0000;"> value</span><span style="color: #0000ff;">="PUT"</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">input </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="submit"</span><span style="color: #ff0000;"> value</span><span style="color: #0000ff;">="put"</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">form</span><span style="color: #0000ff;">&gt;</span>
    
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">form </span><span style="color: #ff0000;">action</span><span style="color: #0000ff;">="rest/user/1"</span><span style="color: #ff0000;"> method</span><span style="color: #0000ff;">="post"</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">input </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="submit"</span><span style="color: #ff0000;"> value</span><span style="color: #0000ff;">="post"</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">form</span><span style="color: #0000ff;">&gt;</span>
    
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">form </span><span style="color: #ff0000;">action</span><span style="color: #0000ff;">="rest/user/1"</span><span style="color: #ff0000;"> method</span><span style="color: #0000ff;">="get"</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">input </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="submit"</span><span style="color: #ff0000;"> value</span><span style="color: #0000ff;">="get"</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">form</span><span style="color: #0000ff;">&gt;</span>
    
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">form </span><span style="color: #ff0000;">action</span><span style="color: #0000ff;">="rest/user/1"</span><span style="color: #ff0000;"> method</span><span style="color: #0000ff;">="post"</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">input </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="hidden"</span><span style="color: #ff0000;"> name</span><span style="color: #0000ff;">="_method"</span><span style="color: #ff0000;"> value</span><span style="color: #0000ff;">="DELETE"</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">input </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="submit"</span><span style="color: #ff0000;"> value</span><span style="color: #0000ff;">="delete"</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">form</span><span style="color: #0000ff;">&gt;</span></pre>
</div>
<h2><span style="font-family: 'Microsoft YaHei'; background-color: #ffff99;">十三、返回json格式的字符串</span></h2>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">1.导入以下jar包</span></p>
<p><img src="http://images0.cnblogs.com/blog2015/694841/201506/052029372696778.png" alt="" /></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">2.方法代码</span></p>
<div class="cnblogs_code">
<pre><span style="color: #000000;">@Controller
@RequestMapping(</span>"/json"<span style="color: #000000;">)
</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> jsonController {
    
    @ResponseBody
    @RequestMapping(</span>"/user"<span style="color: #000000;">)
    </span><span style="color: #0000ff;">public</span><span style="color: #000000;">  User get(){
        User u </span>= <span style="color: #0000ff;">new</span><span style="color: #000000;"> User();
        u.setId(</span>1<span style="color: #000000;">);
        u.setName(</span>"jayjay"<span style="color: #000000;">);
        u.setBirth(</span><span style="color: #0000ff;">new</span><span style="color: #000000;"> Date());
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> u;
    }
}</span></pre>
</div>
<h2><span style="background-color: #ffff99; font-family: 'Microsoft YaHei';">十四、异常的处理</span></h2>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">1.处理局部异常（Controller内）</span></p>
<div class="cnblogs_code">
<pre><span style="color: #000000;">    @ExceptionHandler
    </span><span style="color: #0000ff;">public</span><span style="color: #000000;"> ModelAndView exceptionHandler(Exception ex){
        ModelAndView mv </span>= <span style="color: #0000ff;">new</span> ModelAndView("error"<span style="color: #000000;">);
        mv.addObject(</span>"exception"<span style="color: #000000;">, ex);
        System.out.println(</span>"in testExceptionHandler"<span style="color: #000000;">);
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> mv;
    }
    
    @RequestMapping(</span>"/error"<span style="color: #000000;">)
    </span><span style="color: #0000ff;">public</span><span style="color: #000000;"> String error(){
        </span><span style="color: #0000ff;">int</span> i = 5/0<span style="color: #000000;">;
        </span><span style="color: #0000ff;">return</span> "hello"<span style="color: #000000;">;
    }</span></pre>
</div>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">2.处理全局异常（所有Controller）</span></p>
<div class="cnblogs_code">
<pre><span style="color: #000000;">@ControllerAdvice
</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> testControllerAdvice {
    @ExceptionHandler
    </span><span style="color: #0000ff;">public</span><span style="color: #000000;"> ModelAndView exceptionHandler(Exception ex){
        ModelAndView mv </span>= <span style="color: #0000ff;">new</span> ModelAndView("error"<span style="color: #000000;">);
        mv.addObject(</span>"exception"<span style="color: #000000;">, ex);
        System.out.println(</span>"in testControllerAdvice"<span style="color: #000000;">);
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> mv;
    }
}</span></pre>
</div>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">3.另一种处理全局异常的方法</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">在SpringMVC配置文件中配置</span></p>
<div class="cnblogs_code">
<pre>    <span style="color: #008000;">&lt;!--</span><span style="color: #008000;"> configure SimpleMappingExceptionResolver </span><span style="color: #008000;">--&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">bean </span><span style="color: #ff0000;">class</span><span style="color: #0000ff;">="org.springframework.web.servlet.handler.SimpleMappingExceptionResolver"</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">property </span><span style="color: #ff0000;">name</span><span style="color: #0000ff;">="exceptionMappings"</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">props</span><span style="color: #0000ff;">&gt;</span>
                <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">prop </span><span style="color: #ff0000;">key</span><span style="color: #0000ff;">="java.lang.ArithmeticException"</span><span style="color: #0000ff;">&gt;</span>error<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">prop</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">props</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">property</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">bean</span><span style="color: #0000ff;">&gt;</span></pre>
</div>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">error是出错页面</span></p>
<h2><span style="font-family: 'Microsoft YaHei'; background-color: #ffff99;">十五、设置一个自定义拦截器</span></h2>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">1.创建一个MyInterceptor类，并实现HandlerInterceptor接口</span></p>
<div class="cnblogs_code">
<pre><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span> MyInterceptor <span style="color: #0000ff;">implements</span><span style="color: #000000;"> HandlerInterceptor {

    @Override
    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> afterCompletion(HttpServletRequest arg0,
            HttpServletResponse arg1, Object arg2, Exception arg3)
            </span><span style="color: #0000ff;">throws</span><span style="color: #000000;"> Exception {
        System.out.println(</span>"afterCompletion"<span style="color: #000000;">);
    }

    @Override
    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> postHandle(HttpServletRequest arg0, HttpServletResponse arg1,
            Object arg2, ModelAndView arg3) </span><span style="color: #0000ff;">throws</span><span style="color: #000000;"> Exception {
        System.out.println(</span>"postHandle"<span style="color: #000000;">);
    }

    @Override
    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">boolean</span><span style="color: #000000;"> preHandle(HttpServletRequest arg0, HttpServletResponse arg1,
            Object arg2) </span><span style="color: #0000ff;">throws</span><span style="color: #000000;"> Exception {
        System.out.println(</span>"preHandle"<span style="color: #000000;">);
        </span><span style="color: #0000ff;">return</span> <span style="color: #0000ff;">true</span><span style="color: #000000;">;
    }

}</span></pre>
</div>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">2.在SpringMVC的配置文件中配置</span></p>
<div class="cnblogs_code">
<pre>    <span style="color: #008000;">&lt;!--</span><span style="color: #008000;"> interceptor setting </span><span style="color: #008000;">--&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">mvc:interceptors</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">mvc:interceptor</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">mvc:mapping </span><span style="color: #ff0000;">path</span><span style="color: #0000ff;">="/mvc/**"</span><span style="color: #0000ff;">/&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">bean </span><span style="color: #ff0000;">class</span><span style="color: #0000ff;">="test.SpringMVC.Interceptor.MyInterceptor"</span><span style="color: #0000ff;">&gt;&lt;/</span><span style="color: #800000;">bean</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">mvc:interceptor</span><span style="color: #0000ff;">&gt;</span>        
    <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">mvc:interceptors</span><span style="color: #0000ff;">&gt;</span></pre>
</div>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">3.拦截器执行顺序</span></p>
<p><img src="http://images0.cnblogs.com/blog2015/694841/201506/052112090047146.png" alt="" /></p>
<h2><span style="font-family: 'Microsoft YaHei'; background-color: #ffff99;">十六、表单的验证（使用Hibernate-validate）及国际化</span></h2>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">1.导入Hibernate-validate需要的jar包</span></p>
<p><img src="http://images0.cnblogs.com/blog2015/694841/201506/052116271296839.png" alt="" /><span style="font-family: 'Microsoft YaHei'; font-size: 15px; color: #ff0000;">(未选中不用导入)</span></p>
<p><img src="http://images0.cnblogs.com/blog2015/694841/201506/052116407233893.png" alt="" /></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">2.编写实体类User并加上验证注解</span></p>
<div class="cnblogs_code">
<pre><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> User {
    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">int</span><span style="color: #000000;"> getId() {
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> id;
    }
    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span> setId(<span style="color: #0000ff;">int</span><span style="color: #000000;"> id) {
        </span><span style="color: #0000ff;">this</span>.id =<span style="color: #000000;"> id;
    }
    </span><span style="color: #0000ff;">public</span><span style="color: #000000;"> String getName() {
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> name;
    }
    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> setName(String name) {
        </span><span style="color: #0000ff;">this</span>.name =<span style="color: #000000;"> name;
    }
    </span><span style="color: #0000ff;">public</span><span style="color: #000000;"> Date getBirth() {
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> birth;
    }
    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> setBirth(Date birth) {
        </span><span style="color: #0000ff;">this</span>.birth =<span style="color: #000000;"> birth;
    }
    @Override
    </span><span style="color: #0000ff;">public</span><span style="color: #000000;"> String toString() {
        </span><span style="color: #0000ff;">return</span> "User [id=" + id + ", name=" + name + ", birth=" + birth + "]"<span style="color: #000000;">;
    }    
    </span><span style="color: #0000ff;">private</span> <span style="color: #0000ff;">int</span><span style="color: #000000;"> id;
    @NotEmpty
    </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> String name;

    @Past
    @DateTimeFormat(pattern</span>="yyyy-MM-dd"<span style="color: #000000;">)
    </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> Date birth;
}</span></pre>
</div>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px; color: #ff0000;">ps:@Past表示时间必须是一个过去值</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">3.在jsp中使用SpringMVC的form表单</span></p>
<div class="cnblogs_code">
<pre>    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">form:form </span><span style="color: #ff0000;">action</span><span style="color: #0000ff;">="form/add"</span><span style="color: #ff0000;"> method</span><span style="color: #0000ff;">="post"</span><span style="color: #ff0000;"> modelAttribute</span><span style="color: #0000ff;">="user"</span><span style="color: #0000ff;">&gt;</span><span style="color: #000000;">
        id:</span><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">form:input </span><span style="color: #ff0000;">path</span><span style="color: #0000ff;">="id"</span><span style="color: #0000ff;">/&gt;&lt;</span><span style="color: #800000;">form:errors </span><span style="color: #ff0000;">path</span><span style="color: #0000ff;">="id"</span><span style="color: #0000ff;">/&gt;&lt;</span><span style="color: #800000;">br</span><span style="color: #0000ff;">&gt;</span><span style="color: #000000;">
        name:</span><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">form:input </span><span style="color: #ff0000;">path</span><span style="color: #0000ff;">="name"</span><span style="color: #0000ff;">/&gt;&lt;</span><span style="color: #800000;">form:errors </span><span style="color: #ff0000;">path</span><span style="color: #0000ff;">="name"</span><span style="color: #0000ff;">/&gt;&lt;</span><span style="color: #800000;">br</span><span style="color: #0000ff;">&gt;</span><span style="color: #000000;">
        birth:</span><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">form:input </span><span style="color: #ff0000;">path</span><span style="color: #0000ff;">="birth"</span><span style="color: #0000ff;">/&gt;&lt;</span><span style="color: #800000;">form:errors </span><span style="color: #ff0000;">path</span><span style="color: #0000ff;">="birth"</span><span style="color: #0000ff;">/&gt;</span>
        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">input </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="submit"</span><span style="color: #ff0000;"> value</span><span style="color: #0000ff;">="submit"</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">form:form</span><span style="color: #0000ff;">&gt;</span> </pre>
</div>
<p><span style="color: #ff0000;">ps:path对应name</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">4.Controller中代码</span></p>
<div class="cnblogs_code">
<pre><span style="color: #000000;">@Controller
@RequestMapping(</span>"/form"<span style="color: #000000;">)
</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> formController {
    @RequestMapping(value</span>="/add",method=<span style="color: #000000;">RequestMethod.POST)    
    </span><span style="color: #0000ff;">public</span><span style="color: #000000;"> String add(@Valid User u,BindingResult br){
        </span><span style="color: #0000ff;">if</span>(br.getErrorCount()&gt;0<span style="color: #000000;">){            
            </span><span style="color: #0000ff;">return</span> "addUser"<span style="color: #000000;">;
        }
        </span><span style="color: #0000ff;">return</span> "showUser"<span style="color: #000000;">;
    }
    
    @RequestMapping(value</span>="/add",method=<span style="color: #000000;">RequestMethod.GET)
    </span><span style="color: #0000ff;">public</span> String add(Map&lt;String,Object&gt;<span style="color: #000000;"> map){
        map.put(</span>"user",<span style="color: #0000ff;">new</span><span style="color: #000000;"> User());
        </span><span style="color: #0000ff;">return</span> "addUser"<span style="color: #000000;">;
    }
}</span></pre>
</div>
<p><span style="color: #ff0000; font-family: 'Microsoft YaHei'; font-size: 15px;">ps:</span></p>
<p><span style="color: #ff0000; font-family: 'Microsoft YaHei'; font-size: 15px;">　　1.因为jsp中使用了modelAttribute属性，所以必须在request域中有一个"user".</span></p>
<p><span style="color: #ff0000; font-family: 'Microsoft YaHei'; font-size: 15px;">　　2.@Valid 表示按照在实体上标记的注解验证参数</span></p>
<p><span style="color: #ff0000; font-family: 'Microsoft YaHei'; font-size: 15px;">　　3.返回到原页面错误信息回回显，表单也会回显</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">5.错误信息自定义</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">在src目录下添加locale.properties</span></p>
<div class="cnblogs_code">
<pre><span style="color: #000000;">NotEmpty.user.name=name can't not be empty
Past.user.birth=birth should be a past value
DateTimeFormat.user.birth=the format of input is wrong
typeMismatch.user.birth=the format of input is wrong
typeMismatch.user.id=the format of input is wrong</span></pre>
</div>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">在SpringMVC配置文件中配置</span></p>
<div class="cnblogs_code">
<pre>    <span style="color: #008000;">&lt;!--</span><span style="color: #008000;"> configure the locale resource </span><span style="color: #008000;">--&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">bean </span><span style="color: #ff0000;">id</span><span style="color: #0000ff;">="messageSource"</span><span style="color: #ff0000;"> class</span><span style="color: #0000ff;">="org.springframework.context.support.ResourceBundleMessageSource"</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">property </span><span style="color: #ff0000;">name</span><span style="color: #0000ff;">="basename"</span><span style="color: #ff0000;"> value</span><span style="color: #0000ff;">="locale"</span><span style="color: #0000ff;">&gt;&lt;/</span><span style="color: #800000;">property</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">bean</span><span style="color: #0000ff;">&gt;</span></pre>
</div>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">6.国际化显示</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">在src下添加locale_zh_CN.properties</span></p>
<div class="cnblogs_code">
<pre><span style="color: #000000;">username=账号
password=密码</span></pre>
</div>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">locale.properties中添加</span></p>
<div class="cnblogs_code">
<pre><span style="color: #000000;">username=user name
password=password</span></pre>
</div>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">创建一个locale.jsp</span></p>
<div class="cnblogs_code">
<pre>  <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">body</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">fmt:message </span><span style="color: #ff0000;">key</span><span style="color: #0000ff;">="username"</span><span style="color: #0000ff;">&gt;&lt;/</span><span style="color: #800000;">fmt:message</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">fmt:message </span><span style="color: #ff0000;">key</span><span style="color: #0000ff;">="password"</span><span style="color: #0000ff;">&gt;&lt;/</span><span style="color: #800000;">fmt:message</span><span style="color: #0000ff;">&gt;</span>
  <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">body</span><span style="color: #0000ff;">&gt;</span></pre>
</div>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">在SpringMVC中配置</span></p>
<div class="cnblogs_code">
<pre>    <span style="color: #008000;">&lt;!--</span><span style="color: #008000;"> make the jsp page can be visited </span><span style="color: #008000;">--&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">mvc:view-controller </span><span style="color: #ff0000;">path</span><span style="color: #0000ff;">="/locale"</span><span style="color: #ff0000;"> view-name</span><span style="color: #0000ff;">="locale"</span><span style="color: #0000ff;">/&gt;</span></pre>
</div>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">让locale.jsp在WEB-INF下也能直接访问</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">最后，访问locale.jsp，切换浏览器语言，能看到账号和密码的语言也切换了</span></p>
<h2><span style="font-family: 'Microsoft YaHei'; color: #ff0000; background-color: #ffff99;">十七、压轴大戏--整合SpringIOC和SpringMVC</span></h2>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">1.创建一个test.SpringMVC.integrate的包用来演示整合，并创建各类</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;"><img src="http://images0.cnblogs.com/blog2015/694841/201506/052306155821182.png" alt="" /></span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">2.User实体类</span></p>
<div class="cnblogs_code">
<pre><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> User {
    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">int</span><span style="color: #000000;"> getId() {
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> id;
    }
    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span> setId(<span style="color: #0000ff;">int</span><span style="color: #000000;"> id) {
        </span><span style="color: #0000ff;">this</span>.id =<span style="color: #000000;"> id;
    }
    </span><span style="color: #0000ff;">public</span><span style="color: #000000;"> String getName() {
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> name;
    }
    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> setName(String name) {
        </span><span style="color: #0000ff;">this</span>.name =<span style="color: #000000;"> name;
    }
    </span><span style="color: #0000ff;">public</span><span style="color: #000000;"> Date getBirth() {
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> birth;
    }
    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> setBirth(Date birth) {
        </span><span style="color: #0000ff;">this</span>.birth =<span style="color: #000000;"> birth;
    }
    @Override
    </span><span style="color: #0000ff;">public</span><span style="color: #000000;"> String toString() {
        </span><span style="color: #0000ff;">return</span> "User [id=" + id + ", name=" + name + ", birth=" + birth + "]"<span style="color: #000000;">;
    }    
    </span><span style="color: #0000ff;">private</span> <span style="color: #0000ff;">int</span><span style="color: #000000;"> id;
    @NotEmpty
    </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> String name;

    @Past
    @DateTimeFormat(pattern</span>="yyyy-MM-dd"<span style="color: #000000;">)
    </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> Date birth;
}</span></pre>
</div>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">3.UserService类</span></p>
<div class="cnblogs_code">
<pre><span style="color: #0000ff;"><span style="color: #000000;">@Component</span><br />public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> UserService {
    </span><span style="color: #0000ff;">public</span><span style="color: #000000;"> UserService(){
        System.out.println(</span>"UserService Constructor...\n\n\n\n\n\n"<span style="color: #000000;">);
    }
    
    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> save(){
        System.out.println(</span>"save"<span style="color: #000000;">);
    }
}</span></pre>
</div>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">4.UserController</span></p>
<div class="cnblogs_code">
<pre><span style="color: #000000;">@Controller
@RequestMapping(</span>"/integrate"<span style="color: #000000;">)
</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> UserController {
    @Autowired
    </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> UserService userService;
    
    @RequestMapping(</span>"/user"<span style="color: #000000;">)
    </span><span style="color: #0000ff;">public</span><span style="color: #000000;"> String saveUser(@RequestBody @ModelAttribute User u){
        System.out.println(u);
        userService.save();
        </span><span style="color: #0000ff;">return</span> "hello"<span style="color: #000000;">;
    }
}</span></pre>
</div>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">5.Spring配置文件</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">在src目录下创建SpringIOC的配置文件applicationContext.xml</span></p>
<div class="cnblogs_code">
<pre><span style="color: #0000ff;">&lt;?</span><span style="color: #ff00ff;">xml version="1.0" encoding="UTF-8"</span><span style="color: #0000ff;">?&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">beans </span><span style="color: #ff0000;">xmlns</span><span style="color: #0000ff;">="http://www.springframework.org/schema/beans"</span><span style="color: #ff0000;">
    xmlns:xsi</span><span style="color: #0000ff;">="http://www.w3.org/2001/XMLSchema-instance"</span><span style="color: #ff0000;">
    xsi:schemaLocation</span><span style="color: #0000ff;">="http://www.springframework.org/schema/beans  
        http://www.springframework.org/schema/beans/spring-beans.xsd 
        http://www.springframework.org/schema/util 
        http://www.springframework.org/schema/util/spring-util-4.0.xsd
        http://www.springframework.org/schema/context
        http://www.springframework.org/schema/context/spring-context.xsd
        "</span><span style="color: #ff0000;">
        xmlns:util</span><span style="color: #0000ff;">="http://www.springframework.org/schema/util"</span><span style="color: #ff0000;">
        xmlns:p</span><span style="color: #0000ff;">="http://www.springframework.org/schema/p"</span><span style="color: #ff0000;">
        xmlns:context</span><span style="color: #0000ff;">="http://www.springframework.org/schema/context"</span>    
        <span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">context:component-scan </span><span style="color: #ff0000;">base-package</span><span style="color: #0000ff;">="test.SpringMVC.integrate"</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">context:exclude-filter </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="annotation"</span><span style="color: #ff0000;"> 
            expression</span><span style="color: #0000ff;">="org.springframework.stereotype.Controller"</span><span style="color: #0000ff;">/&gt;</span>
        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">context:exclude-filter </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="annotation"</span><span style="color: #ff0000;"> 
            expression</span><span style="color: #0000ff;">="org.springframework.web.bind.annotation.ControllerAdvice"</span><span style="color: #0000ff;">/&gt;</span>        
    <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">context:component-scan</span><span style="color: #0000ff;">&gt;</span>
    
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">beans</span><span style="color: #0000ff;">&gt;</span></pre>
</div>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">在Web.xml中添加配置</span></p>
<div class="cnblogs_code">
<pre>  <span style="color: #008000;">&lt;!--</span><span style="color: #008000;"> configure the springIOC </span><span style="color: #008000;">--&gt;</span>
  <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">listener</span><span style="color: #0000ff;">&gt;</span>
      <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">listener-class</span><span style="color: #0000ff;">&gt;</span>org.springframework.web.context.ContextLoaderListener<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">listener-class</span><span style="color: #0000ff;">&gt;</span>
  <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">listener</span><span style="color: #0000ff;">&gt;</span>
  <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">context-param</span><span style="color: #0000ff;">&gt;</span>  
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">param-name</span><span style="color: #0000ff;">&gt;</span>contextConfigLocation<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">param-name</span><span style="color: #0000ff;">&gt;</span>  
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">param-value</span><span style="color: #0000ff;">&gt;</span>classpath:applicationContext.xml<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">param-value</span><span style="color: #0000ff;">&gt;</span>
  <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">context-param</span><span style="color: #0000ff;">&gt;</span></pre>
</div>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">6.在SpringMVC中进行一些配置，防止SpringMVC和SpringIOC对同一个对象的管理重合</span></p>
<div class="cnblogs_code">
<pre><span style="color: #008000;">&lt;!--</span><span style="color: #008000;"> scan the package and the sub package </span><span style="color: #008000;">--&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">context:component-scan </span><span style="color: #ff0000;">base-package</span><span style="color: #0000ff;">="test.SpringMVC.integrate"</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">context:include-filter </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="annotation"</span><span style="color: #ff0000;"> 
            expression</span><span style="color: #0000ff;">="org.springframework.stereotype.Controller"</span><span style="color: #0000ff;">/&gt;</span>
        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">context:include-filter </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="annotation"</span><span style="color: #ff0000;"> 
            expression</span><span style="color: #0000ff;">="org.springframework.web.bind.annotation.ControllerAdvice"</span><span style="color: #0000ff;">/&gt;</span>
    <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">context:component-scan</span><span style="color: #0000ff;">&gt;</span></pre>
</div>
<p>&nbsp;</p>
<h2><span style="background-color: #ffff00;"><strong><span style="font-family: 'Microsoft YaHei';">十八、SpringMVC详细运行流程图</span></strong></span></h2>
<p><img src="http://images0.cnblogs.com/blog2015/694841/201506/052340331602684.png" alt="" /></p>
<h2><span style="background-color: #ffff00; font-family: 'Microsoft YaHei';"><span style="font-family: 'Microsoft YaHei';">十九、SpringMVC运行原理</span></span></h2>
<p>&nbsp;</p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">1. 客户端请求提交到DispatcherServlet</span><br /><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">2. 由DispatcherServlet控制器查询一个或多个HandlerMapping，找到处理请求的Controller</span><br /><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">3. DispatcherServlet将请求提交到Controller</span><br /><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">4. Controller调用业务逻辑处理后，返回ModelAndView</span><br /><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">5. DispatcherServlet查询一个或多个ViewResoler视图解析器，找到ModelAndView指定的视图</span><br /><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">6. 视图负责将结果显示到客户端</span></p>
<p>&nbsp;</p>
<h2><span style="background-color: #ffff00; font-family: 'Microsoft YaHei';">二十、SpringMVC与struts2的区别</span></h2>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">1、springmvc基于方法开发的，struts2基于类开发的。springmvc将url和controller里的方法映射。映射成功后springmvc生成一个Handler对象，对象中只包括了一个method。方法执行结束，形参数据销毁。springmvc的controller开发类似web service开发。</span><br /><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">2、springmvc可以进行单例开发，并且建议使用单例开发，struts2通过类的成员变量接收参数，无法使用单例，只能使用多例。</span><br /><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">3、经过实际测试，struts2速度慢，在于使用struts标签，如果使用struts建议使用jstl。</span></p>
<p>&nbsp;</p></div><div id="MySignature"></div>
<div class="clear"></div>
<div id="blog_post_info_block">
<div id="BlogPostCategory"></div>
<div id="EntryTag"></div>
<div id="blog_post_info">
</div>
<div class="clear"></div>
<div id="post_next_prev"></div>
</div>


		</div>
		<div class = "postDesc">posted @ <span id="post-date">2015-06-05 23:26</span> <a href='http://www.cnblogs.com/sunniest/'>Sunnier</a> 阅读(<span id="post_view_count">...</span>) 评论(<span id="post_comment_count">...</span>)  <a href ="https://i.cnblogs.com/EditPosts.aspx?postid=4555801" rel="nofollow">编辑</a> <a href="#" onclick="AddToWz(4555801);return false;">收藏</a></div>
	</div>
	<script type="text/javascript">var allowComments=true,cb_blogId=205616,cb_entryId=4555801,cb_blogApp=currentBlogApp,cb_blogUserGuid='43282244-7c70-e411-b908-9dcfd8948a71',cb_entryCreatedDate='2015/6/5 23:26:00';loadViewCount(cb_entryId);</script>
	
</div><!--end: topics 文章、评论容器-->
</div><a name="!comments"></a><div id="blog-comments-placeholder"></div><script type="text/javascript">var commentManager = new blogCommentManager();commentManager.renderComments(0);</script>
<div id='comment_form' class='commentform'>
<a name='commentform'></a>
<div id='divCommentShow'></div>
<div id='comment_nav'><span id='span_refresh_tips'></span><a href='javascript:void(0);' onclick='return RefreshCommentList();' id='lnk_RefreshComments' runat='server' clientidmode='Static'>刷新评论</a><a href='#' onclick='return RefreshPage();'>刷新页面</a><a href='#top'>返回顶部</a></div>
<div id='comment_form_container'></div>
<div class='ad_text_commentbox' id='ad_text_under_commentbox'></div>
<div id='ad_t2'></div>
<div id='opt_under_post'></div>
<div id='cnblogs_c1' class='c_ad_block'></div>
<div id='under_post_news'></div>
<div id='cnblogs_c2' class='c_ad_block'></div>
<div id='under_post_kb'></div>
<div id='HistoryToday' class='c_ad_block'></div>
<script type='text/javascript'>
    fixPostBody();
    setTimeout(function () { incrementViewCount(cb_entryId); }, 50);
    deliverAdT2();
    deliverAdC1();
    deliverAdC2();    
    loadNewsAndKb();
    loadBlogSignature();
    LoadPostInfoBlock(cb_blogId, cb_entryId, cb_blogApp, cb_blogUserGuid);
    GetPrevNextPost(cb_entryId, cb_blogId, cb_entryCreatedDate);
    loadOptUnderPost();
    GetHistoryToday(cb_blogId, cb_blogApp, cb_entryCreatedDate);   
</script>
</div>


	</div><!--end: forFlow -->
	</div><!--end: mainContent 主体内容容器-->

	<div id="sideBar">
		<div id="sideBarMain">
			
<!--done-->
<div class="newsItem">
<h3 class="catListTitle">公告</h3>
	<div id="blog-news"></div><script type="text/javascript">loadBlogNews();</script>
</div>

			<div id="calendar"><div id="blog-calendar" style="display:none"></div><script type="text/javascript">loadBlogDefaultCalendar();</script></div>
			
			<div id="leftcontentcontainer">
				<div id="blog-sidecolumn"></div><script type="text/javascript">loadBlogSideColumn();</script>
			</div>
			
		</div><!--end: sideBarMain -->
	</div><!--end: sideBar 侧边栏容器 -->
	<div class="clear"></div>
	</div><!--end: main -->
	<div class="clear"></div>
	<div id="footer">
		
<!--done-->
Copyright &copy;2017 Sunnier
	</div><!--end: footer -->
</div><!--end: home 自定义的最大容器 -->
</body>
</html>
